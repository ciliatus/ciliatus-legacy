{"version":3,"names":[],"mappings":"","sources":["app.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nwindow.submit_form = function (e) {\n    e.preventDefault();\n    var btns = $('button[type=submit]:enabled');\n    btns.attr('disabled', 'disabled');\n    var callback = $(e.target).data('callback');\n    var callback_param = $(e.target).data('callback-param');\n    var redirect_success = $(e.target).data('redirect-success');\n    /*\r\n     * Fix for empty data when using\r\n     * PUT with FormData\r\n     */\n    var data = null;\n    if ($(e.target).data('user-formdata')) {\n        data = new FormData(this);\n    } else {\n        data = $(e.target).serialize();\n    }\n\n    var content_type = 'application/x-www-form-urlencoded';\n    if ($(e.target).data('ignore-enctype')) {\n        content_type = false;\n    }\n\n    var form = this;\n\n    return $.ajax({\n        url: $(e.target).prop('action'),\n        type: $(e.target).data('method'),\n        data: data,\n        cache: false,\n        contentType: content_type,\n        processData: false,\n        xhr: function xhr() {\n            // Custom XMLHttpRequest\n            var xhr = $.ajaxSettings.xhr();\n            if (xhr.upload) {\n                // Check if upload property exists\n                xhr.upload.addEventListener('progress', progressHandlingFunction, false); // For handling the progress of the upload\n            }\n            return xhr;\n        },\n        success: function success(data) {\n            btns.removeAttr('disabled');\n            notification('Saved', 'teal darken-1 text-white');\n\n            if (redirect_success !== undefined) {\n                if (redirect_success == 'auto') {\n                    if (data.meta.redirect.uri !== undefined) {\n                        window.setTimeout(function () {\n                            window.location.replace(data.meta.redirect.uri);\n                        }, 1000);\n                    }\n                } else {\n                    window.setTimeout(function () {\n                        window.location.replace(redirect_success);\n                    }, 1000);\n                }\n            }\n        },\n        error: function error(data) {\n            btns.removeAttr('disabled');\n            var msg = 'Unknown';\n            if (data.responseJSON !== undefined) msg = data.responseJSON.error.message;\n            notification('Error ' + data.status + '<br />' + data.statusText + ':<br />' + msg, 'orange darken-2 text-white');\n        }\n    });\n};\n\nvar progressHandlingFunction = function progressHandlingFunction(e) {\n    if (e.lengthComputable) {\n        $('.form-progress-bar').data('valuenow', e.loaded / e.total * 100);\n        $('.form-progress-bar').css('width', e.loaded / e.total * 100 + '%');\n    }\n};\n\nfunction notification(text, cssClass, length) {\n    length = length || 5000;\n    cssClass = cssClass || null;\n    Materialize.toast(text, length, cssClass);\n}\n\n},{}]},{},[1]);\n"],"file":"app.js"}